<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>–ì–æ–¥ –Ω–∞—à–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#eb0027">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #eb0027;
            --secondary: #0f7868;
            --dark: #274b44;
            --light: #feeedd;
            --accent: #f79256;
        }
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--light);
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(235, 0, 39, 0.05) 2px, rgba(235, 0, 39, 0.05) 4px),
                repeating-linear-gradient(-45deg, transparent, transparent 2px, rgba(15, 120, 104, 0.05) 2px, rgba(15, 120, 104, 0.05) 4px);
        }
        .password-screen {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            background: linear-gradient(135deg, var(--dark), #1a3a34);
            display: flex; 
            justify-content: center; 
            align-items: center;
            z-index: 9999; 
            padding: 20px;
            -webkit-overflow-scrolling: touch;
        }
        .password-container {
            background: var(--light); 
            padding: 2rem; 
            border-radius: 20px;
            text-align: center; 
            max-width: 500px; 
            width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 3px solid var(--accent);
            margin: 20px;
        }
        .password-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem; 
            color: var(--primary);
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        .password-input {
            padding: 1rem; 
            font-size: 1.2rem; 
            width: 100%;
            margin: 1.5rem 0; 
            border: 2px solid var(--secondary);
            border-radius: 10px; 
            text-align: center;
            font-family: 'Montserrat', sans-serif;
            -webkit-appearance: none;
        }
        .password-btn {
            background: linear-gradient(to right, var(--primary), var(--accent));
            color: white; 
            border: none; 
            padding: 1rem 3rem;
            font-size: 1.1rem; 
            border-radius: 50px; 
            cursor: pointer;
            font-weight: 600; 
            transition: transform 0.3s;
            font-family: 'Montserrat', sans-serif;
            min-height: 50px;
        }
        .password-btn:active { 
            transform: scale(0.95); 
        }
        .main-content { 
            display: none; 
            opacity: 0; 
        }
        .main-content.show { 
            display: block; 
            opacity: 1; 
        }
        .header {
            text-align: center; 
            padding: 2rem 1rem;
            background: rgba(255, 255, 255, 0.95);
            margin: 1rem; 
            border-radius: 20px;
            border: 2px dashed var(--primary);
            backdrop-filter: blur(10px);
        }
        .title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem; 
            color: var(--primary);
            margin-bottom: 0.5rem;
            line-height: 1.1;
        }
        .subtitle {
            font-size: 1.2rem;
            color: var(--dark);
            margin-bottom: 1.5rem;
            font-weight: 500;
        }
        .timer {
            display: inline-block; 
            padding: 0.8rem 1.5rem;
            background: rgba(15, 120, 104, 0.1);
            border-radius: 15px; 
            margin-top: 1rem;
            border: 2px solid var(--secondary);
            font-size: 1rem; 
            font-weight: 600;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .chests-grid {
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem; 
            padding: 1.5rem; 
            max-width: 1400px; 
            margin: 0 auto;
        }
        .chest {
            height: 300px; 
            position: relative; 
            cursor: pointer;
            perspective: 1000px;
            -webkit-perspective: 1000px;
        }
        .chest-inner {
            width: 100%; 
            height: 100%; 
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-transform-style: preserve-3d;
            -webkit-transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .chest.open .chest-inner { 
            transform: rotateY(180deg); 
        }
        .chest-front, .chest-back {
            position: absolute; 
            width: 100%; 
            height: 100%;
            backface-visibility: hidden; 
            border-radius: 15px;
            display: flex; 
            flex-direction: column; 
            align-items: center;
            justify-content: center; 
            padding: 1.5rem; 
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            -webkit-backface-visibility: hidden;
        }
        .chest-front { 
            background: linear-gradient(135deg, var(--secondary), var(--dark));
            border: 3px solid transparent;
            background-clip: padding-box;
            overflow: hidden;
        }
        /* –Ø—Ä–∫–∏–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –∑–∞–∫—Ä—ã—Ç—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤ —Å –Ω–∞–º–µ–∫–∞–º–∏ */
        .chest[data-month="1"] .chest-front {
            background: linear-gradient(135deg, #ff6b9d, #ff8fab);
            border-color: #eb0027;
        }
        .chest[data-month="1"] .chest-front::before {
            content: 'üëÖ'; 
            position: absolute; 
            font-size: 2.5rem;
            top: 20px; 
            right: 20px; 
            opacity: 0.7;
            filter: drop-shadow(0 2px 3px rgba(0,0,0,0.3));
        }
        .chest[data-month="1"] .chest-front::after {
            content: '–†–∞–∑–æ–≥—Ä–µ–≤...'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="2"] .chest-front {
            background: linear-gradient(135deg, #eb0027, #ff4d6d);
            border-color: #ff8fab;
        }
        .chest[data-month="2"] .chest-front::before {
            content: 'üíò'; 
            position: absolute; 
            font-size: 2.5rem;
            top: 20px; 
            left: 20px; 
            opacity: 0.7;
        }
        .chest[data-month="2"] .chest-front::after {
            content: '–î–µ–Ω—å –≤–∫—É—Å–Ω—è—à–µ–∫'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="3"] .chest-front {
            background: linear-gradient(135deg, #0f7868, #2a9d8f);
            border-color: #274b44;
        }
        .chest[data-month="3"] .chest-front::before {
            content: 'üëÑ'; 
            position: absolute; 
            font-size: 2.5rem;
            bottom: 20px; 
            right: 20px; 
            opacity: 0.7;
        }
        .chest[data-month="3"] .chest-front::after {
            content: '–î–æ–ª–≥–∏–µ —Å–µ—Å—Å–∏–∏...'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="4"] .chest-front {
            background: linear-gradient(135deg, #9d4edd, #c77dff);
            border-color: #7b2cbf;
        }
        .chest[data-month="4"] .chest-front::before {
            content: '‚ú®'; 
            position: absolute; 
            font-size: 3rem;
            top: 50%; 
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.6;
        }
        .chest[data-month="4"] .chest-front::after {
            content: '–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="5"] .chest-front {
            background: linear-gradient(135deg, #2e8b57, #4cc9a8);
            border-color: #0f7868;
        }
        .chest[data-month="5"] .chest-front::before {
            content: 'üí¶'; 
            position: absolute; 
            font-size: 2.5rem;
            top: 20px; 
            left: 50%;
            transform: translateX(-50%);
            opacity: 0.7;
        }
        .chest[data-month="5"] .chest-front::after {
            content: '–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="6"] .chest-front {
            background: linear-gradient(135deg, #118ab2, #06d6a0);
            border-color: #073b4c;
        }
        .chest[data-month="6"] .chest-front::before {
            content: 'üî•'; 
            position: absolute; 
            font-size: 2.5rem;
            top: 20px; 
            right: 20px;
            opacity: 0.7;
        }
        .chest[data-month="6"] .chest-front::after {
            content: '–õ–µ—Ç–Ω–∏–π –∏–Ω—Ç–µ–Ω—Å–∏–≤'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="7"] .chest-front {
            background: linear-gradient(135deg, #ff69b4, #ff8ac6);
            border-color: #eb0027;
        }
        .chest[data-month="7"] .chest-front::before {
            content: 'üéÜ'; 
            position: absolute; 
            font-size: 2.5rem;
            bottom: 20px; 
            left: 20px;
            opacity: 0.7;
        }
        .chest[data-month="7"] .chest-front::after {
            content: '–§–µ–π–µ—Ä–≤–µ—Ä–∫–∏...'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="8"] .chest-front {
            background: linear-gradient(135deg, #ff9e00, #ffd166);
            border-color: #ef476f;
        }
        .chest[data-month="8"] .chest-front::before {
            content: '‚òÄÔ∏è'; 
            position: absolute; 
            font-size: 2.5rem;
            top: 20px; 
            left: 20px;
            opacity: 0.7;
        }
        .chest[data-month="8"] .chest-front::after {
            content: '–ü–ª—è–∂–Ω—ã–π –æ—Ç–¥—ã—Ö'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="9"] .chest-front {
            background: linear-gradient(135deg, #9acd32, #ccff33);
            border-color: #0f7868;
        }
        .chest[data-month="9"] .chest-front::before {
            content: 'üìö'; 
            position: absolute; 
            font-size: 2.5rem;
            top: 50%; 
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.6;
        }
        .chest[data-month="9"] .chest-front::after {
            content: '–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="10"] .chest-front {
            background: linear-gradient(135deg, #7209b7, #b5179e);
            border-color: #560bad;
        }
        .chest[data-month="10"] .chest-front::before {
            content: 'üëª'; 
            position: absolute; 
            font-size: 2.5rem;
            top: 20px; 
            right: 20px;
            opacity: 0.7;
        }
        .chest[data-month="10"] .chest-front::after {
            content: '–ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="11"] .chest-front {
            background: linear-gradient(135deg, #bc6c25, #dda15e);
            border-color: #8b5a2b;
        }
        .chest[data-month="11"] .chest-front::before {
            content: 'üçÅ'; 
            position: absolute; 
            font-size: 2.5rem;
            top: 20px; 
            left: 20px;
            opacity: 0.7;
        }
        .chest[data-month="11"] .chest-front::after {
            content: '–¢–µ–ø–ª—ã–µ —Å–µ—Å—Å–∏–∏'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest[data-month="12"] .chest-front {
            background: linear-gradient(135deg, #dc143c, #ff006e);
            border-color: #eb0027;
        }
        .chest[data-month="12"] .chest-front::before {
            content: 'üéÑ'; 
            position: absolute; 
            font-size: 2.5rem;
            top: 20px; 
            left: 20px;
            opacity: 0.7;
        }
        .chest[data-month="12"] .chest-front::after {
            content: '–ì—Ä–∞–Ω–¥-—Ñ–∏–Ω–∞–ª'; 
            position: absolute; 
            bottom: 25px;
            font-size: 1.1rem; 
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .chest-back {
            background: var(--light); 
            transform: rotateY(180deg);
            border: 3px solid var(--primary);
            padding: 1.5rem;
        }
        .chest-number {
            font-size: 4rem; 
            color: white; 
            font-weight: bold;
            text-shadow: 2px 2px 6px rgba(0,0,0,0.4);
            margin-bottom: 0.5rem;
        }
        .chest-month {
            color: white; 
            font-size: 1.4rem; 
            margin-top: 0.5rem;
            text-transform: uppercase; 
            letter-spacing: 1px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
            font-weight: 600;
        }
        .chest.locked { 
            opacity: 1; 
        }
        .chest.locked .chest-front { 
            background: linear-gradient(135deg, #666, #888) !important;
            border-color: #444 !important;
            position: relative;
        }
        .chest.locked .chest-front::before {
            content: 'üîí';
            position: absolute;
            font-size: 2rem;
            top: 20px;
            right: 20px;
            opacity: 0.8;
        }
        .chest.locked .chest-number {
            opacity: 0.8;
        }
        .chest.locked .chest-month {
            opacity: 0.8;
        }
        .chest-ribbon {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary);
            color: white;
            padding: 5px 15px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            z-index: 2;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            white-space: nowrap;
        }
        .falling-elements {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            pointer-events: none; 
            z-index: -1; 
            overflow: hidden;
        }
        .falling-element {
            position: absolute; 
            color: rgba(235, 0, 39, 0.7);
            font-size: 24px; 
            animation: fall linear infinite;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
            -webkit-animation: fall linear infinite;
        }
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); }
        }
        .tease-message {
            position: fixed; 
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white; 
            padding: 15px 20px; 
            border-radius: 20px;
            border: 3px solid var(--secondary); 
            box-shadow: 0 15px 35px rgba(235, 0, 39, 0.5);
            font-family: 'Playfair Display', serif; 
            font-size: 1.2rem;
            z-index: 10000; 
            pointer-events: none; 
            opacity: 0;
            transform: translateY(20px) scale(0.9); 
            transition: opacity 0.4s, transform 0.4s;
            text-align: center; 
            max-width: 280px; 
            font-weight: bold;
            line-height: 1.4;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .tease-message.show { 
            opacity: 1; 
            transform: translateY(0) scale(1); 
        }
        .tease-message.hide { 
            opacity: 0; 
            transform: translateY(-20px) scale(0.8); 
        }
        @keyframes giftExplosion {
            0% { transform: rotateY(0) scale(1); }
            50% { transform: rotateY(180deg) scale(1.3); }
            100% { transform: rotateY(180deg) scale(1); }
        }
        .chest.special-open .chest-inner {
            animation: giftExplosion 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            -webkit-animation: giftExplosion 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        @keyframes sensualShake {
            0%, 100% { transform: rotate(-0.5deg); }
            25% { transform: rotate(0.5deg) translateY(-2px); }
            50% { transform: rotate(-0.3deg) translateY(-3px); }
            75% { transform: rotate(0.3deg) translateY(-2px); }
        }
        .chest.locked:hover .chest-front,
        .chest.locked:active .chest-front {
            animation: sensualShake 0.5s infinite;
            box-shadow: 0 0 25px rgba(235, 0, 39, 0.5);
            -webkit-animation: sensualShake 0.5s infinite;
        }
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); }
            50% { box-shadow: 0 10px 40px rgba(235, 0, 39, 0.5), 0 0 35px rgba(247, 146, 86, 0.7); }
        }
        .chest:not(.locked) .chest-front {
            animation: pulseGlow 3s infinite;
            -webkit-animation: pulseGlow 3s infinite;
        }
        .reminder-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #eb0027, #f79256);
            color: white;
            padding: 15px;
            border-radius: 15px;
            z-index: 10001;
            max-width: 250px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.4);
            border: 2px solid var(--light);
            font-family: 'Playfair Display', serif;
            font-size: 0.9rem;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.5s, transform 0.5s;
            line-height: 1.4;
        }
        .reminder-message.show {
            opacity: 1;
            transform: translateY(0);
        }
        .modal-overlay {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            background: rgba(0, 0, 0, 0.9); 
            display: none;
            justify-content: center; 
            align-items: center; 
            z-index: 9998;
            padding: 15px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        .modal-overlay.show { 
            display: flex; 
        }
        .modal {
            background: var(--light); 
            padding: 2rem; 
            border-radius: 20px;
            max-width: 500px; 
            width: 100%; 
            border: 3px solid var(--primary);
            position: relative;
            animation: modalAppear 0.3s ease-out;
            -webkit-animation: modalAppear 0.3s ease-out;
            max-height: 80vh;
            overflow-y: auto;
        }
        @keyframes modalAppear {
            from { opacity: 0; transform: scale(0.9) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
        .modal-close {
            position: absolute; 
            top: 15px; 
            right: 15px;
            width: 40px; 
            height: 40px; 
            border-radius: 50%;
            background: rgba(235, 0, 39, 0.1); 
            border: 2px solid var(--primary);
            color: var(--primary); 
            font-size: 1.5rem; 
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        .modal-close:hover,
        .modal-close:active {
            background: rgba(235, 0, 39, 0.2);
            transform: rotate(90deg);
        }
        .instructions {
            text-align: center; 
            padding: 1.5rem; 
            margin: 1.5rem;
            background: rgba(255, 255, 255, 0.95); 
            border-radius: 15px;
            border: 2px solid var(--accent);
            backdrop-filter: blur(10px);
        }
        .hint-text {
            color: var(--primary);
            font-style: italic;
            margin-top: 0.5rem;
            font-size: 0.95rem;
        }
        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è iPhone */
        @supports (-webkit-touch-callout: none) {
            .chest {
                height: 320px;
            }
            .password-btn,
            .chest {
                cursor: pointer;
            }
            .modal {
                max-height: 70vh;
            }
        }
        @media (max-width: 768px) {
            .chests-grid { 
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); 
                gap: 1rem; 
                padding: 1rem; 
            }
            .title { 
                font-size: 2rem; 
            }
            .subtitle {
                font-size: 1rem;
            }
            .timer { 
                font-size: 0.9rem; 
                padding: 0.8rem 1.2rem; 
                min-height: 55px;
            }
            .chest {
                height: 280px;
            }
            .chest-number {
                font-size: 3.5rem;
            }
            .chest-month {
                font-size: 1.2rem;
            }
            .password-title {
                font-size: 1.8rem;
            }
            .instructions {
                margin: 1rem;
                padding: 1.2rem;
            }
            .tease-message {
                max-width: 250px;
                font-size: 1.1rem;
                padding: 12px 18px;
            }
        }
        @media (max-width: 480px) {
            .chests-grid { 
                grid-template-columns: 1fr; 
                max-width: 300px;
            }
            .title { 
                font-size: 1.8rem; 
            }
            .header {
                padding: 1.5rem 1rem;
            }
            .password-container {
                padding: 1.5rem;
            }
        }
        @media (max-width: 350px) {
            .chest {
                height: 260px;
            }
            .chest-front::after {
                font-size: 1rem !important;
                bottom: 20px !important;
            }
        }
    </style>
</head>
<body>
    <div class="password-screen" id="passwordScreen">
        <div class="password-container">
            <h1 class="password-title">üéÅ –ì–æ–¥ –Ω–∞—à–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤</h1>
            <p>–ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü ‚Äî –Ω–æ–≤–æ–µ –æ–±–µ—â–∞–Ω–∏–µ, –Ω–æ–≤—ã–π —Å—é—Ä–ø—Ä–∏–∑</p>
            <p style="margin: 1rem 0; font-weight: 500; color: var(--primary);">–í–≤–µ–¥–∏ –¥–∞—Ç—É, –∫–æ–≥–¥–∞ –Ω–∞—á–∞–ª–∞—Å—å –Ω–∞—à–∞ –ø–µ—Ä–µ–ø–∏—Å–∫–∞ (–¥–¥–º–º–≥–≥):</p>
            <input type="password" class="password-input" id="passwordInput" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 170825" inputmode="numeric">
            <button class="password-btn" id="passwordBtn">–û—Ç–ø–µ—Ä–µ—Ç—å –Ω–∞—à–∏ —Å–µ–∫—Ä–µ—Ç—ã</button>
            <p style="margin-top:1.5rem;color:#666;font-size:0.9em">P.S. –ï—Å–ª–∏ –∑–∞–±—É–¥–µ—à—å –∫–æ–¥ ‚Äî –ø—Ä–∏–¥—É–º–∞—é –æ—Å–æ–±–æ–µ "–Ω–∞–∫–∞–∑–∞–Ω–∏–µ" –∑–∞ –∑–∞–±—ã–≤—á–∏–≤–æ—Å—Ç—å</p>
        </div>
    </div>

    <div class="falling-elements" id="fallingContainer"></div>

    <div class="main-content" id="mainContent">
        <header class="header">
            <h1 class="title">–ì–æ–¥ –Ω–∞—à–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤</h1>
            <p class="subtitle">12 –º–µ—Å—è—Ü–µ–≤ –æ–±–µ—â–∞–Ω–∏–π. –ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü ‚Äî –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</p>
            <p>–û—Ç–∫—Ä—ã–≤–∞–π –ø–æ –æ–¥–Ω–æ–º—É –ø–æ–¥–∞—Ä–∫—É, –Ω–∞—á–∏–Ω–∞—è —Å 31 –¥–µ–∫–∞–±—Ä—è 2025</p>
            <div class="timer" id="timerDisplay">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π–º–µ—Ä–∞...</div>
        </header>

        <div class="chests-grid" id="chestsGrid"></div>

        <div class="instructions">
            <h2>‚ú® –ö–∞–∫ –∏–≥—Ä–∞—Ç—å –≤ —ç—Ç—É –∏–≥—Ä—É?</h2>
            <p>–ü–µ—Ä–≤—ã–π –ø–æ–¥–∞—Ä–æ–∫ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è 31 –¥–µ–∫–∞–±—Ä—è. –ö–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π ‚Äî –≤ –∫–æ–Ω—Ü–µ –º–µ—Å—è—Ü–∞.</p>
            <p>–ù–∞–∂–∏–º–∞–π –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –º–æ–µ –æ–±–µ—â–∞–Ω–∏–µ –Ω–∞ —ç—Ç–æ—Ç –º–µ—Å—è—Ü</p>
            <p class="hint-text">–ê –∑–∞–∫—Ä—ã—Ç—ã–µ –ø–æ–¥–∞—Ä–∫–∏... –æ–Ω–∏ –ª—é–±—è—Ç, –∫–æ–≥–¥–∞ –∏—Ö —Ç—Ä–æ–≥–∞—é—Ç üòâ –ù–∞–∂–∏–º–∞–π –Ω–∞ –Ω–∏—Ö, –º–æ–∂–µ—Ç, —á—Ç–æ-—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç</p>
        </div>
    </div>

    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <button class="modal-close" id="modalClose">√ó</button>
            <div style="text-align:center;margin-bottom:1.5rem">
                <div id="modalIcon" style="font-size:3rem;margin-bottom:0.5rem"></div>
                <h2 id="modalTitle" style="color:var(--primary); line-height: 1.2;"></h2>
                <div id="modalMonth" style="color:var(--secondary);font-weight:600; margin-top: 0.5rem;"></div>
            </div>
            <div id="modalContent" style="line-height:1.6; font-size: 1.05rem;"></div>
        </div>
    </div>

    <script>
        const CONFIG = {
            password: "170825",
            startDate: new Date('2025-12-31T21:00:00+03:00'), // 31 –¥–µ–∫–∞–±—Ä—è 21:00 –ø–æ –ú–°–ö
            storageKey: 'gifts_opened_2026',
            
            teasePhrases: [
                "–ú–º–º, –Ω–µ—Ç–µ—Ä–ø–µ–ª–∏–≤–∞—è –¥–µ–≤–æ—á–∫–∞... –ù–∞–∫–∞–∑–∞—Ç—å —Ç–µ–±—è –∑–∞ —ç—Ç–æ –∏–ª–∏ –ø–æ–æ—â—Ä–∏—Ç—å?",
                "–≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ –µ—â–µ —Å–æ–∑—Ä–µ–≤–∞–µ—Ç. –ö–∞–∫ –∏ –º–æ–µ –∂–µ–ª–∞–Ω–∏–µ —Ç–µ–±—è...",
                "–ñ–¥–∞—Ç—å ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è. –û—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ –∂–¥–µ—à—å –º–æ–µ–≥–æ —è–∑—ã–∫–∞",
                "–ì–æ—Ç–æ–≤–∞ –∫ —Ç–∞–∫–æ–º—É —Ä–∞–∑–º–µ—Ä—É –≤–Ω–∏–º–∞–Ω–∏—è? –Ø –º–æ–≥—É —á–∞—Å–∞–º–∏...",
                "–¢–≤–æ–µ –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ –º–µ–Ω—è –≤–æ–∑–±—É–∂–¥–∞–µ—Ç. –ù–æ –ø–æ–¥–æ–∂–¥–∏ –µ—â–µ –Ω–µ–º–Ω–æ–≥–æ",
                "–ö–∞–∂–µ—Ç—Å—è, –∫—Ç–æ-—Ç–æ —Å–µ–≥–æ–¥–Ω—è –æ—á–µ–Ω—å –Ω–∞—Å—Ç–æ–π—á–∏–≤—ã–π... –ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è",
                "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Ç—ã –±—É–¥–µ—à—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ—Å–ª—É—à–Ω–æ–π",
                "–ü–æ—Ç–µ—Ä–ø–∏ –Ω–µ–º–Ω–æ–≥–æ. –û–∂–∏–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∞–µ—Ç —Ñ–∏–Ω–∞–ª... –º–æ–∫—Ä–µ–µ",
                "–¢–∞–∫, —Å—Ç–æ–ø. –°–Ω–∞—á–∞–ª–∞ –¥–æ–∫–∞–∂–∏, —á—Ç–æ –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –º–æ–π —è–∑—ã–∫",
                "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —á—Ç–æ —Ç—ã –≥–æ—Ç–æ–≤–∞ —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —ç—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫?",
                "–ï—Å–ª–∏ –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤–æ –ø–æ–ø—Ä–æ—Å–∏—à—å... –≤—Å–ª—É—Ö...",
                "–ú–æ–∂–µ—Ç, —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–æ–º–Ω–µ–º—Å—è –Ω–∞ —á–µ–º-—Ç–æ –ø–æ–ª–µ–≥—á–µ?",
                "–£ —Ç–µ–±—è —Ç–∞–∫–∏–µ –Ω–∞—Å—Ç–æ–π—á–∏–≤—ã–µ –ø–∞–ª—å—á–∏–∫–∏... —è –∑–∞–º–µ—Ç–∏–ª",
                "–ó–∞–∫—Ä—ã—Ç—ã–π –ø–æ–¥–∞—Ä–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–∞–∂–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ",
                "–ü—Ä–µ–¥–≤–∫—É—à–µ–Ω–∏–µ ‚Äî –ª—É—á—à–∞—è —á–∞—Å—Ç—å. –Ø –∑–Ω–∞—é, –∫–∞–∫ —Ç—ã —É–º–µ–µ—à—å –∂–¥–∞—Ç—å",
                "–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑. –ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —Ç–≤–æ—è –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å",
                "–ö–∞–∂–¥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –º–æ–º–µ–Ω—Ç... –Ω–æ –Ω–µ —ç—Ç–æ—Ç",
                "–≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ –¥–ª—è –æ—Å–æ–±–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è. –û–Ω–æ —É–∂–µ –µ—Å—Ç—å?",
                "–¢—ã —Ç–æ—á–Ω–æ —Ö–æ—á–µ—à—å —ç—Ç–æ –æ—Ç–∫—Ä—ã—Ç—å? –ü–æ—Ç–æ–º –Ω–µ —Å–º–æ–∂–µ–º –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è",
                "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —Ç–≤–æ–∏ —Ä—É–∫–∏ —Ç–∞–∫ –∂–µ –Ω–∞—Å—Ç–æ–π—á–∏–≤—ã –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö?",
                "–®—à—à... –Ω–µ —Ç–æ—Ä–æ–ø–∏ —Å–æ–±—ã—Ç–∏—è. –ü—É—Å—Ç—å –≤—Å–µ –∏–¥–µ—Ç —Å–≤–æ–∏–º —á–µ—Ä–µ–¥–æ–º",
                "–ï—â–µ –æ–¥–Ω–æ –Ω–∞–∂–∞—Ç–∏–µ, –∏ —è –Ω–∞—á–Ω—É –ø–æ–¥–æ–∑—Ä–µ–≤–∞—Ç—å, —á—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –º–µ–Ω—è",
                "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Å–∫–∞–∂–µ—à—å –≤–æ–ª—à–µ–±–Ω–æ–µ —Å–ª–æ–≤–æ. –ü–æ–¥—Å–∫–∞–∑–∫–∞: –æ–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ '—Ö'",
                "–¢–µ—Ä–ø–µ–Ω–∏–µ, –∫—Ä–æ–ª–∏–∫. –í—Å–µ –ª—É—á—à–µ–µ - —Ç–µ–º, –∫—Ç–æ —É–º–µ–µ—Ç –∂–¥–∞—Ç—å –º–æ–π —è–∑—ã–∫",
                "–ß–µ–º –±–æ–ª—å—à–µ –∂–¥–µ—à—å, —Ç–µ–º —Å–ª–∞—â–µ –±—É–¥–µ—Ç... –≤–∫—É—Å",
                "–ú–æ–∂–µ—Ç, —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø—å–µ–º —á–µ–≥–æ-–Ω–∏–±—É–¥—å –¥–ª—è —Ö—Ä–∞–±—Ä–æ—Å—Ç–∏?",
                "–Ø –∑–∞–ø–∏—Å–∞–ª –∫–∞–∂–¥–æ–µ —Ç–≤–æ–µ –Ω–∞–∂–∞—Ç–∏–µ. –ü–æ—Ç–æ–º –æ—Ç—á–∏—Ç–∞—é—Å—å... —è–∑—ã–∫–æ–º",
                "–¢–∞–∫, –∞ –µ—Å–ª–∏ —è –æ—Ç–∫—Ä–æ—é –Ω–µ –ø–æ–¥–∞—Ä–æ–∫, –∞ —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ?",
                "–ö—Ç–æ —Ç–∞–∫ —Å—Ç—É—á–∏—Ç—Å—è –≤ –∑–∞–∫—Ä—ã—Ç—ã–µ –¥–≤–µ—Ä–∏? –ê—Ö, —ç—Ç–æ —Ç—ã, –º–æ—è –Ω–µ—Ç–µ—Ä–ø–µ–ª–∏–≤–∞—è",
                "–õ–∞–¥–Ω–æ, –ª–∞–¥–Ω–æ, —É–≥–æ–≤–æ—Ä–∏–ª–∞. –ù–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –±—É–¥—É... –ø–æ–∫–∞"
            ],

            reminderPhrases: [
                "–ö—Å—Ç–∞—Ç–∏, —è –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞–ª—Å—è... –≤ –æ–¥–Ω–æ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–º —É–º–µ–Ω–∏–∏",
                "–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: –º–æ–∏ —è–∑—ã–∫–æ–≤—ã–µ –Ω–∞–≤—ã–∫–∏ –æ—Ü–µ–Ω–µ–Ω—ã –Ω–∞ 5+ –ø–æ —Ç–≤–æ–µ–π –∂–µ —à–∫–∞–ª–µ",
                "–¢—ã –∂–µ –ø–æ–º–Ω–∏—à—å, –∫–∞–∫ —è –º–æ–≥—É –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –¥–µ—Ç–∞–ª—è—Ö?",
                "–ì–æ–≤–æ—Ä—è—Ç, –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ ‚Äî –º–∞—Ç—å —É—á–µ–Ω–∏—è. –ú–Ω–µ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –ø—Ä–∞–∫—Ç–∏–∫–∏?",
                "–ú–æ–π —è–∑—ã–∫ –∑–Ω–∞–µ—Ç —Ç–≤–æ–π —è–∑—ã–∫... –≤ –ø—Ä—è–º–æ–º —Å–º—ã—Å–ª–µ",
                "–Ø –æ–±–Ω–æ–≤–∏–ª —Å–≤–æ–π –Ω–∞–≤—ã–∫ '–≤–Ω–∏–º–∞–Ω–∏–µ –∫ –∫–ª–∏—Ç–æ—Ä—É' –¥–æ –≤–µ—Ä—Å–∏–∏ 2.0",
                "–¢–æ–ª—å–∫–æ —á—Ç–æ –≤—Å–ø–æ–º–Ω–∏–ª, –∫–∞–∫ —Ç—ã –¥—Ä–æ–∂–∏—à—å, –∫–æ–≥–¥–∞ —è... –Ω—É —Ç—ã –ø–æ–º–Ω–∏—à—å",
                "–ú–æ–∏ –≥—É–±—ã —Å–∫—É—á–∞—é—Ç –ø–æ —Ç–≤–æ–∏–º... –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —á–∞—Å—Ç—è–º",
                "–ï—Å—Ç—å –∫–æ–µ-—á—Ç–æ, —á—Ç–æ —è –¥–µ–ª–∞—é –ª—É—á—à–µ –≤—Å–µ—Ö. –ò —Ç—ã –∑–Ω–∞–µ—à—å —á—Ç–æ",
                "–Ø –∑–∞–ø–∏—Å–∞–ª –Ω–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç –¥–æ–≤–µ–¥–µ–Ω–∏—è –¥–æ –æ—Ä–≥–∞–∑–º–∞. –ü—Ä–æ–≤–µ—Ä–∏–º?",
                "–ú–æ–∏ –ø–∞–ª—å—Ü—ã –∏ —è–∑—ã–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ —à–≤–µ–π—Ü–∞—Ä—Å–∫–∏–µ —á–∞—Å—ã",
                "–¢—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—à—å, —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ —è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞–ª—Å—è? –î–ª—è —Ç–µ–±—è",
                "–Ø –º–æ–≥—É –Ω–∞–π—Ç–∏ —Ç–≤–æ—é —Ç–æ—á–∫—É G —Å –∑–∞–≤—è–∑–∞–Ω–Ω—ã–º–∏ –≥–ª–∞–∑–∞–º–∏. –î–æ–∫–∞–∑–∞–Ω–æ",
                "–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: —è —Å–ª—É—à–∞—é —Ç–≤–æ–µ —Ç–µ–ª–æ –ª—É—á—à–µ, —á–µ–º —Å–ª–æ–≤–∞",
                "–ú–æ–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ –≤ —ç—Ç–æ–º –¥–µ–ª–µ –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–æ. –ö–∞–∫ –∏ —Ç–≤–æ–∏ –æ—Ä–≥–∞–∑–º—ã",
                "–Ø –∏–∑—É—á–∏–ª –∫–∞–∂–¥—É—é —Ç–≤–æ—é —Ä–µ–∞–∫—Ü–∏—é. –ö–∞–∂–¥—É—é",
                "–ö–æ–≥–¥–∞ —è —Ä–∞–±–æ—Ç–∞—é, —è –Ω–µ —Å–º–æ—Ç—Ä—é –Ω–∞ —á–∞—Å—ã. –¢–æ–ª—å–∫–æ –Ω–∞ —Ç–µ–±—è",
                "–ú–æ–π —è–∑—ã–∫–æ–≤–æ–π —ç–∫–∑–∞–º–µ–Ω —Ç—ã –≤—Å–µ–≥–¥–∞ —Å–¥–∞–µ—à—å –Ω–∞ –æ—Ç–ª–∏—á–Ω–æ",
                "–î–∞–≤–∞–π –ø—Ä–æ–≤–µ–¥–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –ø–æ –º–æ–∏–º –Ω–∞–≤—ã–∫–∞–º?",
                "–Ø —Å–æ–∑–¥–∞–ª –º–µ–Ω—Ç–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É —Ç–≤–æ–µ–≥–æ —Ç–µ–ª–∞. –û–Ω–∞ –æ—á–µ–Ω—å –ø–æ–¥—Ä–æ–±–Ω–∞—è"
            ],

            wishes: [
                {
                    month: 1,
                    title: "–Ø–Ω–≤–∞—Ä—å ‚Äî –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å –º–æ–µ–≥–æ —è–∑—ã–∫–∞",
                    content: "–ù–∞—á–Ω–µ–º —Å –∞–∑–æ–≤. –¶–µ–ª–∞—è –Ω–æ—á—å, –ø–æ—Å–≤—è—â–µ–Ω–Ω–∞—è —Ç–≤–æ–µ–º—É —Ç–µ–ª—É. –ú–æ–µ –æ–±–µ—â–∞–Ω–∏–µ: –ø–µ—Ä–≤—ã–µ 2 —á–∞—Å–∞ —è –±—É–¥—É –ø—Ä–æ—Å—Ç–æ –∏–∑—É—á–∞—Ç—å –∫–∞–∂–¥—É—é —Å–∫–ª–∞–¥–∫—É, –∫–∞–∂–¥—É—é —Ä–µ–∞–∫—Ü–∏—é. –ù–∏–∫–∞–∫–æ–π —Å–ø–µ—à–∫–∏, —Ç–æ–ª—å–∫–æ –º–µ–¥–ª–µ–Ω–Ω–æ–µ, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ. –Ø –Ω–∞—É—á—É —Ç–µ–±—è —Ä–∞—Å—Å–ª–∞–±–ª—è—Ç—å—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é, –∞ —Ç—ã –Ω–∞—É—á–∏—à—å –º–µ–Ω—è –ø–æ–Ω–∏–º–∞—Ç—å —Ç–≤–æ–∏ —Å–∞–º—ã–µ —Ç–∏—Ö–∏–µ —Å–∏–≥–Ω–∞–ª—ã. –ö —É—Ç—Ä—É —Ç—ã –±—É–¥–µ—à—å –∑–Ω–∞—Ç—å: –º–æ–π —è–∑—ã–∫ ‚Äî —Ç–≤–æ–π –ª—É—á—à–∏–π –¥—Ä—É–≥ –≤ —ç—Ç–æ–º –≥–æ–¥—É.",
                    icon: "üëÖ",
                    color: "#ff6b9d"
                },
                {
                    month: 2,
                    title: "–§–µ–≤—Ä–∞–ª—å ‚Äî –î–µ–Ω—å —Å–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞: 14 —Å–ø–æ—Å–æ–±–æ–≤",
                    content: "14 —Ñ–µ–≤—Ä–∞–ª—è = 14 —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ö–Ω–∏–∫ –∑–∞ –æ–¥–Ω—É –Ω–æ—á—å. –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç ‚Äî –Ω–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥. –û—Ç –Ω–µ–∂–Ω–æ–≥–æ –∫–∞—Å–∞–Ω–∏—è –∫–æ–Ω—á–∏–∫–æ–º —è–∑—ã–∫–∞ –¥–æ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–≥–æ –¥–∞–≤–ª–µ–Ω–∏—è. –°–æ—Å—Ç–∞–≤–∏–º –∫–∞—Ä—Ç—É —Ç–≤–æ–∏—Ö —ç—Ä–æ–≥–µ–Ω–Ω—ã—Ö –∑–æ–Ω. –¢—ã –±—É–¥–µ—à—å –≤–µ—Å—Ç–∏ –¥–Ω–µ–≤–Ω–∏–∫ –æ—â—É—â–µ–Ω–∏–π (–≥–æ–ª–æ—Å–æ–º, –∞ –Ω–µ —Ä—É—á–∫–æ–π). –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞: —Ç—ã –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—à—å –≥–æ–≤–æ—Ä–∏—Ç—å —Å–ª–æ–≤–∞–º–∏ –∏ –±—É–¥–µ—à—å –æ–±—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–æ–Ω–∞–º–∏.",
                    icon: "üíò",
                    color: "#eb0027"
                },
                {
                    month: 3,
                    title: "–ú–∞—Ä—Ç ‚Äî –í–µ—Å–µ–Ω–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å",
                    content: "–í–µ—Å–Ω–∞, –≤—Å–µ —Ä–∞—Å—Ü–≤–µ—Ç–∞–µ—Ç... –í–∫–ª—é—á–∞—è —Ç–≤–æ—é —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —è–∑—ã–∫–∞ –∏ –ø–∞–ª—å—Ü–µ–≤. –û—Ç—Ä–∞–±–æ—Ç–∞–µ–º 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–∏—Ç–º–∞ –∏ 5 –≤–∞—Ä–∏–∞—Ü–∏–π –¥–∞–≤–ª–µ–Ω–∏—è. –¢—ã –≤—ã–±–µ—Ä–µ—à—å —Å–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π, –∞ —è –¥–æ–≤–µ–¥—É –µ–≥–æ –¥–æ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–∞. –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: –ø—Ä–∏–¥—É–º–∞—Ç—å –∫–æ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (–Ω–æ —Ç—ã –µ–≥–æ –Ω–µ —Å–∫–∞–∂–µ—à—å, —è —É–≤–µ—Ä–µ–Ω).",
                    icon: "üëÑ",
                    color: "#0f7868"
                },
                {
                    month: 4,
                    title: "–ê–ø—Ä–µ–ª—å ‚Äî –®–æ–ø–ø–∏–Ω–≥ –¥–ª—è —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è",
                    content: "–ö—É–ø–∏–º 3 —Ä–∞–∑–Ω—ã—Ö –≤–∏–±—Ä–∞—Ç–æ—Ä–∞. –Ø –Ω–∞—É—á—É —Ç–µ–±—è, –∫–∞–∫ –∏—Ö —Å–æ—á–µ—Ç–∞—Ç—å —Å —Ä–∞–±–æ—Ç–æ–π –º–æ–µ–≥–æ —è–∑—ã–∫–∞. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, –ø–æ–∏—Å–∫ –∏–¥–µ–∞–ª—å–Ω–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏. –¢—ã –±—É–¥–µ—à—å –≥–ª–∞–≤–Ω—ã–º –∫—Ä–∏—Ç–∏–∫–æ–º, —è ‚Äî –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º. –û—Ü–µ–Ω–∫–∞ –ø–æ 10-–±–∞–ª–ª—å–Ω–æ–π —à–∫–∞–ª–µ. –ú–µ–Ω—å—à–µ 8 ‚Äî –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–Ω–æ–≤–æ. –ë–æ–ª—å—à–µ 9 ‚Äî –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –±–æ–Ω—É—Å–Ω–æ–º—É —Ä–∞—É–Ω–¥—É (–¥–µ—Ç–∞–ª–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏).",
                    icon: "‚ú®",
                    color: "#9d4edd"
                },
                {
                    month: 5,
                    title: "–ú–∞–π ‚Äî –ù–∞ –ø—Ä–∏—Ä–æ–¥–µ: –ª–µ—Å –∏ —Ç–≤–æ–∏ –∑–≤—É–∫–∏",
                    content: "–í—ã–±–µ—Ä–µ–º —Å–∞–º—ã–π –≥–ª—É—Ö–æ–π —É–≥–æ–ª–æ–∫ –ª–µ—Å–∞, –≥–¥–µ –º–æ–∂–Ω–æ –∫—Ä–∏—á–∞—Ç—å. –ö–æ—Ä–∑–∏–Ω–∞ –¥–ª—è –ø–∏–∫–Ω–∏–∫–∞: —Ñ—Ä—É–∫—Ç—ã (—á—Ç–æ–±—ã –ø–æ–∫–æ—Ä–º–∏—Ç—å —Ç–µ–±—è —Å –º–æ–∏—Ö –ø–∞–ª—å—Ü–µ–≤), –≤–∏–Ω–æ (—á—Ç–æ–±—ã —Ä–∞—Å–∫—Ä–µ–ø–æ—Å—Ç–∏—Ç—å), –∏ –ø–ª–µ–¥ (—á—Ç–æ–±—ã –Ω–µ –∑–∞–ø–∞—á–∫–∞—Ç—å—Å—è). –¶–µ–ª—å: –∑–∞—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–±—è –∫—Ä–∏—á–∞—Ç—å —Ç–∞–∫ –≥—Ä–æ–º–∫–æ, —á—Ç–æ–±—ã –ø—Ç–∏—Ü—ã –∑–∞–º–æ–ª—á–∞–ª–∏. –ï—Å–ª–∏ –ø–æ–ª—É—á–∏—Ç—Å—è ‚Äî —Ç—ã –≤—ã–ø–æ–ª–Ω—è–µ—à—å –º–æ–µ –∂–µ–ª–∞–Ω–∏–µ. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —è –Ω–∞—á–∏–Ω–∞—é —Å–Ω–∞—á–∞–ª–∞.",
                    icon: "üí¶",
                    color: "#2e8b57"
                },
                {
                    month: 6,
                    title: "–ò—é–Ω—å ‚Äî –ò–Ω—Ç–µ–Ω—Å–∏–≤: –æ—Ç 0 –¥–æ 100 –∑–∞ 60 —Å–µ–∫—É–Ω–¥",
                    content: "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏. –Ø —Ä–∞–∑–æ–±—å—é —Ç–≤–æ–π –∫–ª–∏—Ç–æ—Ä –Ω–∞ 4 –∑–æ–Ω—ã –∏ –±—É–¥—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–∞–∂–¥–æ–π –æ—Ç–¥–µ–ª—å–Ω–æ, –∑–∞—Ç–µ–º –≤—Å–µ –≤–º–µ—Å—Ç–µ. –¢–∞–π–º–µ—Ä, –º–µ—Ç—Ä–æ–Ω–æ–º, –∏ –º–æ—è –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è. –¢–≤–æ—è –∑–∞–¥–∞—á–∞: –Ω–µ –∫–æ–Ω—á–∏—Ç—å —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏. –ú–æ—è –∑–∞–¥–∞—á–∞: –¥–æ–≤–µ—Å—Ç–∏ —Ç–µ–±—è –¥–æ –∫—Ä–∞—è –∏ —É–¥–µ—Ä–∂–∞—Ç—å —Ç–∞–º. –ü—Ä–æ–≤–∞–ª = –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ 30 –º–∏–Ω—É—Ç –±–µ–∑ –ø—Ä–∞–≤–∞ –Ω–∞ –æ—Ä–≥–∞–∑–º.",
                    icon: "üî•",
                    color: "#118ab2"
                },
                {
                    month: 7,
                    title: "–ò—é–ª—å ‚Äî –ù–æ—á–Ω–æ–π –º–∞—Ä–∞—Ñ–æ–Ω",
                    content: "–ó–∞–∫–∞—Ç ‚Äî –Ω–∞—á–∞–ª–æ, —Ä–∞—Å—Å–≤–µ—Ç ‚Äî —Ñ–∏–Ω–∏—à. –ë–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–æ–≤ –¥–æ–ª—å—à–µ 5 –º–∏–Ω—É—Ç. –ì–∏–¥—Ä–∞—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–æ—Ü–µ–ª—É–∏. –ü–µ—Ä–µ–∫—É—Å ‚Äî —Ç–≤–æ—è –∫–æ–∂–∞. –ú—É–∑—ã–∫–∞ ‚Äî —Ç–≤–æ–µ –¥—ã—Ö–∞–Ω–∏–µ. –¶–µ–ª—å: –ø–æ–±–∏—Ç—å —Ä–µ–∫–æ—Ä–¥ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ—Ä–≥–∞–∑–º–æ–≤ –∑–∞ –Ω–æ—á—å. –ü—Ä–µ–¥—ã–¥—É—â–∏–π: 7. –ù–æ–≤—ã–π –ø–ª–∞–Ω: 10+. –ö–∞–∂–¥—ã–π –ø–æ—Å–ª–µ 5-–≥–æ –±—É–¥–µ—Ç –Ω–∞–≥—Ä–∞–∂–¥–∞—Ç—å—Å—è –æ—Å–æ–±—ã–º –ø–æ—Ü–µ–ª—É–µ–º.",
                    icon: "üéÜ",
                    color: "#ff69b4"
                },
                {
                    month: 8,
                    title: "–ê–≤–≥—É—Å—Ç ‚Äî –ü–ª—è–∂–Ω—ã–π —Å–µ–∑–æ–Ω: –ø–µ—Å–æ–∫ –∏ —á—É–≤—Å—Ç–≤–∞",
                    content: "–ê—Ä–µ–Ω–¥—É–µ–º –¥–æ–º–∏–∫ —É –º–æ—Ä—è. –ù–æ—á—å, —á–∞—Å—Ç–Ω—ã–π –ø–ª—è–∂, –∏ —Ç—ã –ª–µ–∂–∏—à—å –Ω–∞ –ø–µ—Å–∫–µ. –Ø –±—É–¥—É —Ä–∞–±–æ—Ç–∞—Ç—å, –ø–æ–∫–∞ –≤–æ–ª–Ω—ã –ª–∏–∂—É—Ç –±–µ—Ä–µ–≥. –°–æ—Å—Ç—è–∑–∞–Ω–∏–µ: –∫—Ç–æ –¥–æ–ª—å—à–µ ‚Äî –º–æ–π —è–∑—ã–∫ –∏–ª–∏ –ø—Ä–∏–ª–∏–≤? –°–æ–ª—å –Ω–∞ –∫–æ–∂–µ, –ª—É–Ω–∞ –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π, –∏ —Ç—ã –º–µ–∂–¥—É –º–æ–∏–º–∏ –≥—É–±–∞–º–∏. –ï—Å–ª–∏ –≤—ã–º–æ–∫–Ω–µ—à—å –Ω–µ –æ—Ç –º–æ—Ä—è ‚Äî –ø—Ä–æ–∏–≥—Ä–∞–ª–∞ –æ–∫–µ–∞–Ω.",
                    icon: "‚òÄÔ∏è",
                    color: "#ff9e00"
                },
                {
                    month: 9,
                    title: "–°–µ–Ω—Ç—è–±—Ä—å ‚Äî –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥",
                    content: "–°–æ—Å—Ç–∞–≤–∏–º —É—á–µ–±–Ω—ã–π –ø–ª–∞–Ω. –¢–µ–æ—Ä–∏—è: –∞–Ω–∞—Ç–æ–º–∏—è, —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è. –ü—Ä–∞–∫—Ç–∏–∫–∞: 3 –∑–∞–Ω—è—Ç–∏—è –≤ –Ω–µ–¥–µ–ª—é –ø–æ 2 —á–∞—Å–∞. –î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è —Å –≤–∏–¥–µ–æ–æ—Ç—á–µ—Ç–∞–º–∏ (–¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞). –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –ø–æ –ø—è—Ç–Ω–∏—Ü–∞–º. –°–µ—Å—Å–∏—è –≤ –∫–æ–Ω—Ü–µ –º–µ—Å—è—Ü–∞. –°–¥–∞—à—å –Ω–∞ –æ—Ç–ª–∏—á–Ω–æ ‚Äî –ø–æ–ª—É—á–∏—à—å –¥–∏–ø–ª–æ–º '–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü –ª—É—á—à–µ–≥–æ —è–∑—ã–∫–∞'.",
                    icon: "üìö",
                    color: "#9acd32"
                },
                {
                    month: 10,
                    title: "–û–∫—Ç—è–±—Ä—å ‚Äî –•—ç–ª–ª–æ—É–∏–Ω: —Å—Ç—Ä–∞—à–Ω—ã–µ —Ö–æ—Ä–æ—à–∏–µ –≤–µ—â–∏",
                    content: "–ö–æ—Å—Ç—é–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—á–µ—Ä–∏–Ω–∫–∞ –Ω–∞ –¥–≤–æ–∏—Ö. –¢—ã –≤—ã–±–∏—Ä–∞–µ—à—å –æ–±—Ä–∞–∑ ‚Äî —è –≤—ã–±–∏—Ä–∞—é —Ç–µ—Ö–Ω–∏–∫—É. –í–µ–¥—å–º–∞ = –º–∞–≥–∏—á–µ—Å–∫–∏–µ –∫—Ä—É–≥–∏ —è–∑—ã–∫–æ–º. –í–∞–º–ø–∏—Ä = –Ω–µ–∂–Ω—ã–µ —É–∫—É—Å—ã –≤ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Å—Ç–∞. –ü—Ä–∏–∑—Ä–∞–∫ = –Ω–µ–≤–∏–¥–∏–º—ã–µ –∫–∞—Å–∞–Ω–∏—è. –ö–∞–∂–¥—ã–π —á–∞—Å ‚Äî –Ω–æ–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂. –°–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–æ –Ω–∞ –±–æ–Ω—É—Å-—Ç—Ä–µ–∫ –≤ –Ω–æ—è–±—Ä–µ.",
                    icon: "üëª",
                    color: "#7209b7"
                },
                {
                    month: 11,
                    title: "–ù–æ—è–±—Ä—å ‚Äî –ò—Å–∫—É—Å—Å—Ç–≤–æ –∑–∞–¥–µ—Ä–∂–∫–∏",
                    content: "–ù–∞—É—á–∏–º—Å—è —Ä–∞—Å—Ç—è–≥–∏–≤–∞—Ç—å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ. 5 –ø–æ–¥—Ö–æ–¥–æ–≤ –ø–æ 20 –º–∏–Ω—É—Ç –¥–æ–≤–µ–¥–µ–Ω–∏—è –¥–æ –ø—Ä–µ–¥–æ—Ä–≥–∞–∑–º–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –æ—Ç—Ö–æ–¥–∞ –Ω–∞–∑–∞–¥. –¢–µ—Ä–ø–µ–Ω–∏–µ, –∫–æ–Ω—Ç—Ä–æ–ª—å, –¥—ã—Ö–∞–Ω–∏–µ. –Ø –±—É–¥—É –¥–∏—Ä–∏–∂–µ—Ä–æ–º, —Ç—ã ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–æ–º. –¶–µ–ª—å: –¥–æ–≤–µ—Å—Ç–∏ —Ç–µ–±—è –¥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ–≥–¥–∞ –æ–¥–∏–Ω –≤–∑–¥–æ—Ö –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä–æ–º. –¢–æ–≥–¥–∞ ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∞–∫–∫–æ—Ä–¥, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –¥—Ä–æ–≥–Ω–µ—Ç –¥–æ–º.",
                    icon: "üçÅ",
                    color: "#bc6c25"
                },
                {
                    month: 12,
                    title: "–î–µ–∫–∞–±—Ä—å ‚Äî –ì—Ä–∞–Ω–¥-—Ñ–∏–Ω–∞–ª: –≤—Å–µ, —á—Ç–æ —É–∑–Ω–∞–ª–∏",
                    content: "24 —á–∞—Å–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏. –í—Å–µ —Ç–µ—Ö–Ω–∏–∫–∏, –≤—Å–µ —Ä–∏—Ç–º—ã, –≤—Å–µ –∑–æ–Ω—ã. –ü–µ—Ä–µ—Ä—ã–≤ —Ç–æ–ª—å–∫–æ –Ω–∞ –¥—É—à (–≤–º–µ—Å—Ç–µ) –∏ –µ–¥—É (—Å –º–æ–∏—Ö —Ä—É–∫). –ü–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤ –≥–æ–¥–∞: —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –º–æ–π —è–∑—ã–∫ –ø—Ä–æ–≤–µ–ª –Ω–∞ —Ç–µ–±–µ, —Å–∫–æ–ª—å–∫–æ –æ—Ä–≥–∞–∑–º–æ–≤, —Å–∫–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö —Ä–µ–∞–∫—Ü–∏–π –æ—Ç–∫—Ä—ã—Ç–æ. –ò –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑: –æ–±–µ—â–∞–Ω–∏–µ, —á—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π –≥–æ–¥ –±—É–¥–µ—Ç –ø–æ—Å–≤—è—â–µ–Ω —Ç–æ–º—É, –ß–ï–ú–£ —Ç—ã –∑–∞—Ö–æ—á–µ—à—å. –ù–æ –º–æ–π —è–∑—ã–∫ –±—É–¥–µ—Ç –ø—Ä–æ—Å–∏—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —ç—Ç–æ—Ç.",
                    icon: "üéÑ",
                    color: "#dc143c"
                }
            ]
        };

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
        let currentTeaseElement = null;
        let currentTeaseMessage = null;
        let clickCount = 0;

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ –ú–°–ö
        function getMoscowTime() {
            const now = new Date();
            // –ú–°–ö = UTC+3
            const mskOffset = 3 * 60; // –º–∏–Ω—É—Ç—ã
            const localOffset = now.getTimezoneOffset(); // –º–∏–Ω—É—Ç—ã
            const mskTime = new Date(now.getTime() + (mskOffset + localOffset) * 60000);
            return mskTime;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            checkPassword();
            initFallingElements();
            initGifts();
            initTimer();
            setupReminderSystem();
            
            document.getElementById('passwordBtn').addEventListener('click', checkPasswordEnter);
            document.getElementById('passwordInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') checkPasswordEnter();
            });
            document.getElementById('modalClose').addEventListener('click', closeModal);
            document.getElementById('modalOverlay').addEventListener('click', (e) => {
                if (e.target === e.currentTarget) closeModal();
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–ª–≥–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è
            document.addEventListener('contextmenu', (e) => e.preventDefault());
            
            // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
            if ('ontouchstart' in window) {
                document.body.classList.add('touch-device');
            }
        });

        function checkPassword() {
            if (sessionStorage.getItem('giftAccess') === CONFIG.password) {
                showMainContent();
            }
        }

        function checkPasswordEnter() {
            const input = document.getElementById('passwordInput');
            if (input.value === CONFIG.password) {
                sessionStorage.setItem('giftAccess', input.value);
                showMainContent();
            } else {
                alert('–ù–µ-–∞, –Ω–µ —É–≥–∞–¥–∞–ª–∞! –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑–æ–∫. –ü–æ–¥—Å–∫–∞–∑–∫–∞: —ç—Ç–æ –¥–∞—Ç–∞, –∫–æ–≥–¥–∞ –Ω–∞—á–∞–ª–æ—Å—å –Ω–∞—à–µ –æ–±—â–µ–Ω–∏–µ üòâ');
                input.value = '';
                input.focus();
            }
        }

        function showMainContent() {
            document.getElementById('passwordScreen').style.display = 'none';
            const main = document.getElementById('mainContent');
            main.classList.add('show');
            setTimeout(() => main.style.opacity = 1, 10);
        }

        // –ü–∞–¥–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
        function initFallingElements() {
            const container = document.getElementById('fallingContainer');
            const elements = ['üëÖ', 'üí¶', 'üî•', 'üíã', 'üçë', '‚ú®', 'üåü', '‚ù§Ô∏è', 'ü•µ', 'üòà', 'üëÑ', 'üçí', 'üçì', 'üí´', '‚ö°'];
            
            // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
            for (let i = 0; i < 40; i++) {
                const el = document.createElement('div');
                el.className = 'falling-element';
                el.textContent = elements[Math.floor(Math.random() * elements.length)];
                el.style.left = `${Math.random() * 100}%`;
                el.style.animationDuration = `${Math.random() * 15 + 10}s`;
                el.style.animationDelay = `${Math.random() * 5}s`;
                el.style.opacity = Math.random() * 0.5 + 0.3;
                el.style.fontSize = `${Math.random() * 25 + 20}px`;
                el.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
                container.appendChild(el);
            }
        }

        function initGifts() {
            const grid = document.getElementById('chestsGrid');
            const opened = JSON.parse(localStorage.getItem(CONFIG.storageKey) || '[]');
            const available = calculateAvailableGifts();
            
            CONFIG.wishes.forEach((wish, index) => {
                const gift = document.createElement('div');
                gift.className = `chest ${index < available ? '' : 'locked'}`;
                gift.dataset.month = wish.month;
                
                const isOpened = opened.includes(wish.month);
                const isAvailable = index < available;
                const monthNames = ['–Ø–ù–í–ê–†–¨', '–§–ï–í–†–ê–õ–¨', '–ú–ê–†–¢', '–ê–ü–†–ï–õ–¨', '–ú–ê–ô', '–ò–Æ–ù–¨', '–ò–Æ–õ–¨', '–ê–í–ì–£–°–¢', '–°–ï–ù–¢–Ø–ë–†–¨', '–û–ö–¢–Ø–ë–†–¨', '–ù–û–Ø–ë–†–¨', '–î–ï–ö–ê–ë–†–¨'];
                
                gift.innerHTML = `
                    <div class="chest-inner ${isOpened ? 'open' : ''}">
                        <div class="chest-front">
                            <div class="chest-number">${wish.month}</div>
                            <div class="chest-month">${monthNames[wish.month-1]}</div>
                        </div>
                        <div class="chest-back">
                            <div style="font-size:2.5rem;margin-bottom:0.5rem">${wish.icon}</div>
                            <div style="font-size:1.1rem;color:var(--secondary); font-weight: 600;">${monthNames[wish.month-1]}</div>
                            <div style="margin-top:1rem;color:#666; font-size: 0.95rem;">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>
                            ${isOpened ? '<div style="margin-top:0.5rem;color:var(--primary);font-weight:600;">‚úì –£–∂–µ –∏–∑—É—á–µ–Ω–æ</div>' : ''}
                        </div>
                    </div>
                `;
                
                if (isAvailable) {
                    gift.addEventListener('click', () => openGift(wish, gift, isOpened));
                    gift.addEventListener('touchstart', (e) => {
                        e.preventDefault();
                        gift.style.transform = 'scale(0.98)';
                    }, {passive: false});
                    gift.addEventListener('touchend', () => {
                        gift.style.transform = '';
                    });
                } else {
                    gift.addEventListener('click', (e) => handleLockedChestClick(gift, e));
                    gift.addEventListener('touchstart', (e) => {
                        e.preventDefault();
                        gift.style.transform = 'scale(0.98)';
                    }, {passive: false});
                    gift.addEventListener('touchend', () => {
                        gift.style.transform = '';
                    });
                }
                
                // –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –¥–ª—è –ø–∞—Å—Ö–∞–ª–∫–∏
                let pressTimer;
                gift.addEventListener('mousedown', function(e) {
                    pressTimer = setTimeout(() => {
                        showEasterEgg(this, wish.month);
                    }, 1500);
                });
                
                gift.addEventListener('touchstart', function(e) {
                    pressTimer = setTimeout(() => {
                        showEasterEgg(this, wish.month);
                    }, 1500);
                });
                
                gift.addEventListener('mouseup', function() {
                    clearTimeout(pressTimer);
                });
                
                gift.addEventListener('touchend', function() {
                    clearTimeout(pressTimer);
                });
                
                gift.addEventListener('mouseleave', function() {
                    clearTimeout(pressTimer);
                });
                
                gift.addEventListener('touchcancel', function() {
                    clearTimeout(pressTimer);
                });
                
                grid.appendChild(gift);
            });
        }

        function calculateAvailableGifts() {
            const start = CONFIG.startDate;
            const now = getMoscowTime();
            
            if (now < start) return 0;
            
            let months = (now.getFullYear() - start.getFullYear()) * 12;
            months -= start.getMonth();
            months += now.getMonth();
            
            // –£—á–∏—Ç—ã–≤–∞–µ–º, —á—Ç–æ –ø–æ–¥–∞—Ä–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ –º–µ—Å—è—Ü–∞
            if (now.getDate() < 28) {
                months--;
            }
            
            return Math.min(Math.max(months, 0), 11);
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã–µ –ø–æ–¥–∞—Ä–∫–∏
        function handleLockedChestClick(giftElement, event) {
            // –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —ç—Ç–æ–º –∂–µ —ç–ª–µ–º–µ–Ω—Ç–µ - —Å–∫—Ä—ã–≤–∞–µ–º –µ–≥–æ
            if (currentTeaseElement === giftElement && currentTeaseMessage) {
                hideTeaseMessage();
                return;
            }
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–Ω–æ –±—ã–ª–æ –Ω–∞ –¥—Ä—É–≥–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ
            if (currentTeaseMessage) {
                hideTeaseMessage();
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            showTeaseMessage(giftElement, event);
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–ª–∏–∫–æ–≤ –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
            clickCount++;
        }

        function showTeaseMessage(element, event) {
            const phrases = CONFIG.teasePhrases;
            const msg = phrases[Math.floor(Math.random() * phrases.length)];
            
            // –°–æ–∑–¥–∞–µ–º –∏–ª–∏ –Ω–∞—Ö–æ–¥–∏–º —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è
            let msgEl = document.getElementById('flirtyTeaseMessage');
            if (!msgEl) {
                msgEl = document.createElement('div');
                msgEl.id = 'flirtyTeaseMessage';
                msgEl.className = 'tease-message';
                document.body.appendChild(msgEl);
            }
            
            // –ü–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞—Å–∞–Ω–∏—è/–∫–ª–∏–∫–∞
            let clientX, clientY;
            if (event.type.includes('touch')) {
                clientX = event.touches[0].clientX;
                clientY = event.touches[0].clientY;
            } else {
                clientX = event.clientX;
                clientY = event.clientY;
            }
            
            // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–ª–∏–∫–∞/–∫–∞—Å–∞–Ω–∏—è
            const msgWidth = 280;
            const msgHeight = 100;
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
            let left = clientX - msgWidth / 2;
            let top = clientY - msgHeight - 20;
            
            // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º, —á—Ç–æ–±—ã –Ω–µ –≤—ã—Ö–æ–¥–∏–ª–æ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞
            if (left < 20) left = 20;
            if (left + msgWidth > viewportWidth) left = viewportWidth - msgWidth - 20;
            if (top < 20) top = clientY + 20;
            if (top + msgHeight > viewportHeight) top = viewportHeight - msgHeight - 20;
            
            msgEl.style.left = `${left}px`;
            msgEl.style.top = `${top}px`;
            msgEl.textContent = msg;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
            setTimeout(() => {
                msgEl.classList.remove('hide');
                msgEl.classList.add('show');
            }, 10);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ
            currentTeaseElement = element;
            currentTeaseMessage = msgEl;
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                hideTeaseMessage();
            }, 3000);
        }

        function hideTeaseMessage() {
            if (currentTeaseMessage) {
                currentTeaseMessage.classList.remove('show');
                currentTeaseMessage.classList.add('hide');
                
                // –û—á–∏—â–∞–µ–º —Å—Å—ã–ª–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
                setTimeout(() => {
                    if (currentTeaseMessage) {
                        currentTeaseMessage.remove();
                        currentTeaseElement = null;
                        currentTeaseMessage = null;
                    }
                }, 400);
            }
        }

        function openGift(wish, element, alreadyOpened) {
            clickCount++;
            
            if (!alreadyOpened) {
                // –°—á–µ—Ç—á–∏–∫ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤
                const opened = JSON.parse(localStorage.getItem(CONFIG.storageKey) || '[]');
                const openedCount = opened.length + 1;
                
                // –û—Å–æ–±—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ—Ç—å–µ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è
                if (openedCount % 3 === 0) {
                    setTimeout(() => {
                        const bonusMessages = [
                            `üéâ –û—Ç–∫—Ä—ã—Ç–æ ${openedCount} –ø–æ–¥–∞—Ä–∫–æ–≤! –¢–≤–æ–π –±–æ–Ω—É—Å: ${openedCount * 10} –º–∏–Ω—É—Ç —á–∏—Å—Ç–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è... —è–∑—ã–∫–æ–º.`,
                            `üî• ${openedCount} –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–¥–∞—Ä–∫–∞! –ù–∞–≥—Ä–∞–¥–∞: —Å–µ—Å—Å–∏—è –ø–æ—Ü–µ–ª—É–µ–≤ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é ${openedCount * 5} –º–∏–Ω—É—Ç.`,
                            `üåü –£–∂–µ ${openedCount}! –¢—ã –ø–æ–ª—É—á–∞–µ—à—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∞–∂ –¥–ª–∏–Ω–æ–π –≤ ${openedCount * 15} –º–∏–Ω—É—Ç.`
                        ];
                        const bonusMsg = bonusMessages[Math.floor(Math.random() * bonusMessages.length)];
                        
                        // –ö—Ä–∞—Å–∏–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ alert
                        const bonusEl = document.createElement('div');
                        bonusEl.className = 'tease-message';
                        bonusEl.textContent = bonusMsg;
                        document.body.appendChild(bonusEl);
                        
                        bonusEl.style.left = '50%';
                        bonusEl.style.top = '50%';
                        bonusEl.style.transform = 'translate(-50%, -50%)';
                        
                        setTimeout(() => {
                            bonusEl.classList.add('show');
                        }, 10);
                        
                        setTimeout(() => {
                            bonusEl.classList.remove('show');
                            bonusEl.classList.add('hide');
                            setTimeout(() => bonusEl.remove(), 400);
                        }, 4000);
                    }, 800);
                }
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è
                element.classList.add('special-open');
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                if (!opened.includes(wish.month)) {
                    opened.push(wish.month);
                    localStorage.setItem(CONFIG.storageKey, JSON.stringify(opened));
                }
                
                // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
                createConfetti(element);
                
                // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –µ—ë –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
                setTimeout(() => {
                    element.classList.remove('special-open');
                }, 800);
                
                // –û—Ç–º–µ—á–∞–µ–º –∫–∞–∫ –æ—Ç–∫—Ä—ã—Ç—ã–π
                element.classList.add('open');
            }
            showGiftModal(wish);
        }

        function showEasterEgg(element, month) {
            const naughtyMessages = [
                "–ú–º–º, —Ç–µ—Ä–ø–µ–ª–∏–≤–∞—è... –≠—Ç–æ –∫–∞—á–µ—Å—Ç–≤–æ —è —Ü–µ–Ω—é –≤ –ø–æ—Å—Ç–µ–ª–∏.",
                "–î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ? –ó–Ω–∞—á–∏—Ç, –ª—é–±–∏—à—å –Ω–µ —Å–ø–µ—à–∞... –ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è.",
                "–û–≥–æ, 2 —Å–µ–∫—É–Ω–¥—ã! –°—Ç–æ–ª—å–∫–æ –∂–µ —Ç—ã –æ–±—ã—á–Ω–æ –¥–µ—Ä–∂–∏—à—å—Å—è –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –∫–æ–Ω—á–∏—Ç—å...",
                "–¢–µ—Ä–ø–µ–Ω–∏–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–∞–µ—Ç—Å—è. –ö–∞–∫ –∏ –≤ –º–æ–∏—Ö –ª–∞—Å–∫–∞—Ö.",
                "–ù–∞—à–ª–∞ —Å–∫—Ä—ã—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é? –Ø —Ç–æ–∂–µ –∫–æ–µ-—á—Ç–æ —Å–∫—Ä—ã–≤–∞—é... –º–µ–∂–¥—É –Ω–æ–≥.",
                "–ù–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å ‚Äî –∫–ª—é—á –∫ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ—Ä–≥–∞–∑–º–∞–º, –∑–Ω–∞–µ—à—å –ª–∏."
            ];
            
            const msg = naughtyMessages[Math.floor(Math.random() * naughtyMessages.length)];
            
            // –°–æ–∑–¥–∞–µ–º –∫—Ä–∞—Å–∏–≤—ã–π alert
            const easterEgg = document.createElement('div');
            easterEgg.className = 'tease-message';
            easterEgg.innerHTML = `
                <div style="font-size:2rem;margin-bottom:10px">üéØ</div>
                <div style="font-size:1.1rem;margin-bottom:5px"><strong>–°–µ–∫—Ä–µ—Ç –º–µ—Å—è—Ü–∞ ${month}</strong></div>
                <div>${msg}</div>
                <div style="margin-top:10px;font-size:0.9em;opacity:0.8">–¢—ã –∑–∞—Å–ª—É–∂–∏–ª–∞ –ø–æ—Ü–µ–ª—É–π üòò</div>
            `;
            document.body.appendChild(easterEgg);
            
            const rect = element.getBoundingClientRect();
            easterEgg.style.left = `${window.innerWidth/2 - 140}px`;
            easterEgg.style.top = `${window.innerHeight/2 - 100}px`;
            
            setTimeout(() => {
                easterEgg.classList.add('show');
            }, 10);
            
            setTimeout(() => {
                easterEgg.classList.remove('show');
                easterEgg.classList.add('hide');
                setTimeout(() => easterEgg.remove(), 400);
            }, 4000);
        }

        function showReminder() {
            const phrases = CONFIG.reminderPhrases;
            const msg = phrases[Math.floor(Math.random() * phrases.length)];
            
            // –°–æ–∑–¥–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            const reminder = document.createElement('div');
            reminder.className = 'reminder-message';
            reminder.innerHTML = `
                <div style="font-size:2rem;margin-bottom:10px">üëÖüí¶</div>
                <div>${msg}</div>
            `;
            document.body.appendChild(reminder);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º
            setTimeout(() => {
                reminder.classList.add('show');
            }, 10);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                reminder.classList.remove('show');
                setTimeout(() => reminder.remove(), 300);
            }, 5000);
        }

        function setupReminderSystem() {
            // –°–ª—É—á–∞–π–Ω—ã–π –ø–æ–∫–∞–∑ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø—Ä–∏ –∫–ª–∏–∫–∞—Ö
            document.addEventListener('click', (e) => {
                if (e.target.closest('.password-screen')) return;
                
                clickCount++;
                // –ö–∞–∂–¥—ã–µ 7-12 –∫–ª–∏–∫–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
                if (clickCount % Math.floor(Math.random() * 6 + 7) === 0) {
                    setTimeout(showReminder, 1000);
                }
            });
            
            document.addEventListener('touchstart', (e) => {
                if (e.target.closest('.password-screen')) return;
                
                clickCount++;
                if (clickCount % Math.floor(Math.random() * 6 + 7) === 0) {
                    setTimeout(showReminder, 1000);
                }
            }, {passive: true});
            
            // –¢–∞–∫–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏
            setTimeout(() => {
                if (Math.random() > 0.5) {
                    showReminder();
                }
            }, 30000);
        }

        function showGiftModal(wish) {
            const modal = document.getElementById('modalOverlay');
            const monthNames = ['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å', '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'];
            
            document.getElementById('modalIcon').textContent = wish.icon;
            document.getElementById('modalTitle').textContent = wish.title;
            document.getElementById('modalMonth').textContent = monthNames[wish.month-1];
            document.getElementById('modalContent').textContent = wish.content;
            
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('show');
            document.body.style.overflow = '';
        }

        function initTimer() {
            updateTimer();
            setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            const timerEl = document.getElementById('timerDisplay');
            const available = calculateAvailableGifts();
            
            if (available >= 12) {
                timerEl.textContent = 'üéâ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ –æ—Ç–∫—Ä—ã—Ç—ã! –î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞!';
                return;
            }
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–∞—Ç—É —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–¥–∞—Ä–∫–∞ –ø–æ –ú–°–ö
            const nextGiftDate = new Date(CONFIG.startDate);
            nextGiftDate.setMonth(nextGiftDate.getMonth() + available + 1);
            
            // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –ø–æ –ú–°–ö
            const now = getMoscowTime();
            
            // –ï—Å–ª–∏ –ø–æ–¥–∞—Ä–æ–∫ —É–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω
            if (now >= nextGiftDate) {
                const availableCount = available + 1;
                timerEl.innerHTML = `‚ú® –ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—Ä–æ–∫ ‚Ññ${availableCount}<br><span style="font-size:0.8em;color:var(--primary)">–ñ–¥—É —Ç–≤–æ–µ–≥–æ –∫–∞—Å–∞–Ω–∏—è</span>`;
                return;
            }
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–¥–∞—Ä–∫–∞
            const diff = nextGiftDate - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤—ã–≤–æ–¥
            let timeString = '';
            if (days > 0) timeString += `${days}–¥ `;
            if (hours > 0 || days > 0) timeString += `${hours}—á `;
            if (minutes > 0 || hours > 0) timeString += `${minutes}–º `;
            timeString += `${seconds}—Å`;
            
            timerEl.innerHTML = `‚è≥ –°–ª–µ–¥—É—é—â–∏–π –ø–æ–¥–∞—Ä–æ–∫ —á–µ—Ä–µ–∑:<br><span style="font-size:1.1em;color:var(--primary)">${timeString}</span>`;
        }

        function createConfetti(element) {
            const rect = element.getBoundingClientRect();
            const colors = ['#eb0027', '#0f7868', '#f79256', '#ff69b4', '#ffd700', '#9d4edd'];
            const symbols = ['üëÖ', 'üí¶', 'üî•', 'üíã', '‚ú®', 'üåü', '‚ù§Ô∏è', 'ü•µ', 'üòà'];
            
            for (let i=0; i<20; i++) {
                const confetti = document.createElement('div');
                confetti.style.cssText = `
                    position:fixed; width:28px; height:28px; font-size:24px;
                    left:${rect.left + rect.width/2}px; top:${rect.top + rect.height/2}px;
                    pointer-events:none; z-index:9999; text-align:center;
                    user-select:none; -webkit-user-select:none;
                `;
                confetti.textContent = symbols[Math.floor(Math.random()*symbols.length)];
                confetti.style.color = colors[Math.floor(Math.random()*colors.length)];
                document.body.appendChild(confetti);
                
                const angle = Math.random() * Math.PI * 2;
                const speed = 2 + Math.random()*3;
                const rotation = Math.random() * 720 - 360;
                let x=0, y=0, opacity=1;
                
                function animate() {
                    x += Math.cos(angle) * speed;
                    y += Math.sin(angle) * speed + 0.2; // –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è
                    opacity -= 0.02;
                    
                    confetti.style.transform = `translate(${x}px, ${y}px) rotate(${rotation}deg)`;
                    confetti.style.opacity = opacity;
                    
                    if (opacity > 0) {
                        requestAnimationFrame(animate);
                    } else {
                        confetti.remove();
                    }
                }
                animate();
            }
        }
    </script>
    <script>
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–Ω–µ–∂–∏–Ω–∫–∏
        function createSnowflakes() {
            const snowContainer = document.createElement('div');
            snowContainer.className = 'snow-container';
            snowContainer.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 1;
                overflow: hidden;
            `;
            document.body.appendChild(snowContainer);
            
            // –°–∏–º–≤–æ–ª—ã —Å–Ω–µ–∂–∏–Ω–æ–∫
            const snowflakes = ['‚ùÑ', '‚ùÖ', '‚ùÜ', 'Ôºä', 'ÔΩ•', '‚úß', '‚ú¶', '‚ú∂'];
            
            // –°–æ–∑–¥–∞–µ–º 30 —Å–Ω–µ–∂–∏–Ω–æ–∫
            for (let i = 0; i < 30; i++) {
                const snowflake = document.createElement('div');
                snowflake.style.cssText = `
                    position: absolute;
                    color: rgba(255, 255, 255, 0.8);
                    font-size: ${Math.random() * 20 + 15}px;
                    text-shadow: 0 0 5px rgba(255, 255, 255, 0.7);
                    user-select: none;
                    top: -30px;
                    opacity: ${Math.random() * 0.7 + 0.3};
                `;
                snowflake.textContent = snowflakes[Math.floor(Math.random() * snowflakes.length)];
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
                const left = Math.random() * 100;
                snowflake.style.left = `${left}%`;
                
                // –°–ª—É—á–∞–π–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
                const duration = Math.random() * 20 + 10; // 10-30 —Å–µ–∫—É–Ω–¥
                const delay = Math.random() * 5; // –¥–æ 5 —Å–µ–∫—É–Ω–¥ –∑–∞–¥–µ—Ä–∂–∫–∏
                
                // –†–∞–∑–Ω—ã–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
                const drift = Math.random() * 100 - 50; // –¥—Ä–µ–π—Ñ –≤–ª–µ–≤–æ-–≤–ø—Ä–∞–≤–æ
                const spin = Math.random() * 360; // –≤—Ä–∞—â–µ–Ω–∏–µ
                
                snowflake.style.animation = `
                    fall ${duration}s linear ${delay}s infinite,
                    drift ${duration/2}s ease-in-out ${delay}s infinite alternate,
                    spin ${Math.random() * 5 + 3}s linear ${delay}s infinite
                `;
                
                // –ê–Ω–∏–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ style –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                const keyframesFall = `
                    @keyframes fall-${i} {
                        to {
                            transform: translateY(100vh) translateX(${drift}px) rotate(${spin}deg);
                        }
                    }
                    @keyframes drift-${i} {
                        0%, 100% { transform: translateX(0); }
                        50% { transform: translateX(${drift}px); }
                    }
                    @keyframes spin-${i} {
                        to { transform: rotate(${spin}deg); }
                    }
                `;
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏
                const style = document.createElement('style');
                style.textContent = keyframesFall;
                document.head.appendChild(style);
                
                snowflake.style.animation = `
                    fall-${i} ${duration}s linear ${delay}s infinite,
                    drift-${i} ${duration/2}s ease-in-out ${delay}s infinite alternate,
                    spin-${i} ${Math.random() * 5 + 3}s linear ${delay}s infinite
                `;
                
                snowContainer.appendChild(snowflake);
                
                // –£–¥–∞–ª—è–µ–º —Å–Ω–µ–∂–∏–Ω–∫—É –ø–æ—Å–ª–µ –ø–∞–¥–µ–Ω–∏—è –∏ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é
                setTimeout(() => {
                    if (snowflake.parentNode) {
                        snowflake.remove();
                    }
                }, (duration + delay) * 1000);
            }
            
            // –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–Ω–µ–∂–∏–Ω–æ–∫
            setInterval(() => {
                if (snowContainer.children.length < 30) {
                    createSnowflake(snowContainer);
                }
            }, 1000);
        }
        
        function createSnowflake(container) {
            const snowflakes = ['‚ùÑ', '‚ùÖ', '‚ùÜ', 'Ôºä', 'ÔΩ•', '‚úß', '‚ú¶', '‚ú∂'];
            const snowflake = document.createElement('div');
            snowflake.style.cssText = `
                position: absolute;
                color: rgba(255, 255, 255, 0.8);
                font-size: ${Math.random() * 20 + 15}px;
                text-shadow: 0 0 5px rgba(255, 255, 255, 0.7);
                user-select: none;
                top: -30px;
                opacity: ${Math.random() * 0.7 + 0.3};
            `;
            snowflake.textContent = snowflakes[Math.floor(Math.random() * snowflakes.length)];
            
            const left = Math.random() * 100;
            snowflake.style.left = `${left}%`;
            
            const duration = Math.random() * 20 + 10;
            const delay = 0;
            const drift = Math.random() * 100 - 50;
            const spin = Math.random() * 360;
            
            const animationId = Date.now();
            
            const keyframesFall = `
                @keyframes fall-${animationId} {
                    to {
                        transform: translateY(100vh) translateX(${drift}px) rotate(${spin}deg);
                    }
                }
                @keyframes drift-${animationId} {
                    0%, 100% { transform: translateX(0); }
                    50% { transform: translateX(${drift}px); }
                }
                @keyframes spin-${animationId} {
                    to { transform: rotate(${spin}deg); }
                }
            `;
            
            const style = document.createElement('style');
            style.textContent = keyframesFall;
            document.head.appendChild(style);
            
            snowflake.style.animation = `
                fall-${animationId} ${duration}s linear ${delay}s infinite,
                drift-${animationId} ${duration/2}s ease-in-out ${delay}s infinite alternate,
                spin-${animationId} ${Math.random() * 5 + 3}s linear ${delay}s infinite
            `;
            
            container.appendChild(snowflake);
            
            setTimeout(() => {
                if (snowflake.parentNode) {
                    snowflake.remove();
                    style.remove();
                }
            }, (duration + delay) * 1000);
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–Ω–µ–≥ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
        document.addEventListener('DOMContentLoaded', () => {
            // –î–∞–µ–º –Ω–µ–º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
            setTimeout(() => {
                createSnowflakes();
            }, 500);
        });
        
        // –¢–∞–∫–∂–µ –¥–æ–±–∞–≤–∏–º CSS –¥–ª—è —Å–Ω–µ–≥–∞ –≤ head
        const snowStyles = document.createElement('style');
        snowStyles.textContent = `
            .snow-container {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 1;
            }
            
            @media (max-width: 768px) {
                .snow-container div {
                    font-size: 18px !important;
                }
            }
            
            @media (max-width: 480px) {
                .snow-container div {
                    font-size: 16px !important;
                }
            }
        `;
        document.head.appendChild(snowStyles);
    </script>
</body>
</html>
